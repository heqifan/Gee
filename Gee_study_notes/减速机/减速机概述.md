# 减速机概述

减速器是在地球引擎中随时间、空间、波段、阵列和其他数据结构聚合数据的一种方式。ee。Reducer类指定如何聚合数据。该类中的reducers可以指定一个用于聚合的简单统计量(例如最小值、最大值、平均值、中值、标准差等)，或者输入数据的更复杂的摘要(例如直方图、线性回归、列表)。缩减可能会随着时间(imageCollection.reduce())、space (image. reducereregion()、image. reduceneighhood())、bands (image.reduce())或FeatureCollection (feature .reduce()的属性空间而发生

## 减速器有输入和输出

reducer接受一个输入数据集并生成单个输出。当单一输入减速器应用于多波段图像时，地球引擎自动复制减速器并将其分别应用于每个波段。因此，输出图像与输入图像具有相同的频带数;输出中的每个波段都是从输入数据中相应波段的像素减少。一些reducer采用输入数据集的元组。这些还原器不会为每个波段自动复制。例如，ee.Reducer.LinearRegression()接受多个预测数据集(表示独立）

有些reducer会产生多个输出，例如ee.Reducer.minMax()， ee.Reducer.histogram()或ee.Reducer.toList()。例如:

```javascript
// 加载并过滤Sentinel-2图像集合。
var collection = ee.ImageCollection('COPERNICUS/S2')
    .filterDate('2016-01-01', '2016-12-31')
    .filterBounds(ee.Geometry.Point([-81.31, 29.90]));

//减少收集。
var extrema = collection.reduce(ee.Reducer.minMax());
```

这将产生一个带有两倍于输入频带数量的输出，其中输出的频带名称有' _min '或' _max '附加到频带名称。

输出类型应该与计算匹配。例如，应用于ImageCollection的减速器有一个Image输出。因为输出被解释为像素值，所以必须使用带有数字输出的reducer来减少ImageCollection(像toList()或histogram()这样的reducer不能工作)。

## 减速器使用加权输入

默认情况下，像素值上的缩小值是通过其蒙版加权的，尽管这种行为可以更改(参见Weighting部分)。蒙版等于0的像素将不会在还原中使用。

## 结合减速机

如果您的意图是对相同的输入应用多个reducers，那么为了提高效率，最好将()两个reducers组合起来。具体来说，在sharedInputs设置为true的减速器上调用combine()只会导致一次数据传递。例如，要计算图像中像素的均值和标准差，你可以使用如下方法:

```javascript
// 加载一张陆地卫星8号的图像
var image = ee.Image('LANDSAT/LC08/C01/T1/LC08_044034_20140318');

//结合均值和标准偏差降低器。
var reducers = ee.Reducer.mean().combine({
  reducer2: ee.Reducer.stdDev(),
  sharedInputs: true
});

// 利用组合减速器得到图像的均值和标准差。
var stats = image.reduceRegion({
  reducer: reducers,
  bestEffort: true,
});

//显示频带平均值和SDs的字典。
print(stats);
```

在输出中，请注意减速机的名称被附加到输入的名称中，以区分减速机的输出。这个行为也适用于图像输出，它将把减速器的名称附加到输出频带名称中。