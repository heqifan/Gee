# 聚合图像集

考虑这样一个示例:需要获取由ImageCollection表示的图像时间序列的中值。要减少ImageCollection，请使用ImageCollection .reduce()。这将图像集合减少为单个图像，如图1所示。具体来说，输出是按像素计算的，这样输出中的每个像素都是由该位置集合中所有图像的中值组成的。为了获得其他统计数据，如平均值、总和、方差、任意百分比等，应该选择并应用适当的减速器。

![imageCollection.reduce diagram](https://developers.google.com/earth-engine/images/Reduce_ImageCollection.png)

以减少ImageCollection为例，考虑通过路径和行过滤的Landsat 5图像集合。下面的代码使用reduce()将集合减少到一个Image(这里使用中值减速器只是为了说明问题):

```javascript
// 加载一个图像集合，过滤，这样就不会有太多的数据。
var collection = ee.ImageCollection('LANDSAT/LT05/C01/T1')
  .filterDate('2008-01-01', '2008-12-31')
  .filter(ee.Filter.eq('WRS_PATH', 44))
  .filter(ee.Filter.eq('WRS_ROW', 34));

//计算每个波段，每个像素的中值。
//波段名有B1_median, B2_median等。
var median = collection.reduce(ee.Reducer.median());

//输出是一个Image。把它加到地图上。
var vis_param = {bands: ['B4_median', 'B3_median', 'B2_median'], gamma: 1.6};
Map.setCenter(-122.3355, 37.7924, 9);
Map.addLayer(median, vis_param);
```

这将返回一个多波段图像，其中每个像素是ImageCollection中该像素位置上所有未蒙面像素的中值。具体来说，在输入图像的每个波段都重复了减速器，这意味着中值在每个波段都是独立计算的。请注意，乐队名称中附加了减速器的名称:' B1_median '， ' B2_median '等。输出应该如图2所示。

有关减少图像集合的更多信息，请参阅ImageCollection文档的减少部分。特别要注意的是，通过减少ImageCollection生成的图像没有投影。这意味着您应该显式地设置任何计算的比例，这些计算涉及ImageCollection减少所输出的计算图像。

图2。这是2008年陆地卫星5号图像中值的假彩色合成图。

![ImageCollection.reduce output](https://developers.google.com/earth-engine/images/Reducer_ImageCollection_median.png)